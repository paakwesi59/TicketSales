{% extends "base.html" %}

{% block title %}Checkout - {{ event.title }}{% endblock %}

{% block content %}
<div class="form-container">
  <h2>Checkout</h2>
  <p><strong>Event:</strong> {{ event.title }}</p>
  <p><strong>Ticket Price:</strong> GHC{{ "%.2f"|format(event.price) }}</p>
  <p><strong>Quantity:</strong> {{ quantity }}</p>
  <p><strong>Base Total Price:</strong> GHC{{ "%.2f"|format(total_price) }}</p>
  {% if discount > 0 %}
    <p><strong>Discount Applied:</strong> GHC{{ "%.2f"|format(discount) }}</p>
  {% endif %}
  {% if free_tickets > 0 %}
    <p><strong>Free Tickets Awarded:</strong> {{ free_tickets }}</p>
  {% endif %}
  <p><strong>Final Total Price:</strong> GHC{{ "%.2f"|format(final_price) }}</p>
  <form method="POST" action="{{ url_for('tickets.confirm_purchase', event_id=event.id) }}">
    <input type="hidden" name="email" value="{{ email }}">
    <input type="hidden" name="quantity" value="{{ quantity }}">
    <button type="submit" class="btn">Confirm Purchase &amp; Pay</button>
  </form>
</div>
{% endblock %}

