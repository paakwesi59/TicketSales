{% extends "base.html" %}

{% block title %}Create New Event - Ticket Sales Platform{% endblock %}

{% block content %}
<div class="form-container">
  <h2>Create New Event</h2>
  <form method="POST" action="{{ url_for('events.new_event') }}" enctype="multipart/form-data">
    {{ form.hidden_tag() }}

    <div class="form-group">
      {{ form.title.label }}<br>
      {{ form.title(class="form-control") }}
      {% for error in form.title.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.description.label }}<br>
      {{ form.description(class="form-control") }}
      {% for error in form.description.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.event_date.label }}<br>
      {{ form.event_date(class="form-control", type="datetime-local") }}
      {% for error in form.event_date.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.price.label }}<br>
      {{ form.price(class="form-control", type="number", step="0.01") }}
      {% for error in form.price.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.total_tickets.label }}<br>
      {{ form.total_tickets(class="form-control", type="number") }}
      {% for error in form.total_tickets.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.venue.label }}<br>
      {{ form.venue(class="form-control") }}
      {% for error in form.venue.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.duration.label }}<br>
      {{ form.duration(class="form-control", type="number", step="0.5") }}
      {% for error in form.duration.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <!-- Promotion Fields -->
    <div class="form-group">
      {{ form.bulk_min_tickets.label }}<br>
      {{ form.bulk_min_tickets(class="form-control", type="number") }}
      {% for error in form.bulk_min_tickets.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.bulk_discount_percent.label }}<br>
      {{ form.bulk_discount_percent(class="form-control", type="number", step="0.1") }}
      {% for error in form.bulk_discount_percent.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.free_ticket_min.label }}<br>
      {{ form.free_ticket_min(class="form-control", type="number") }}
      {% for error in form.free_ticket_min.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.free_tickets.label }}<br>
      {{ form.free_tickets(class="form-control", type="number") }}
      {% for error in form.free_tickets.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.image.label }}<br>
      {{ form.image(class="form-control", type="file") }}
      {% for error in form.image.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.submit(class="btn btn-primary") }}
    </div>
  </form>
</div>
{% endblock %}
